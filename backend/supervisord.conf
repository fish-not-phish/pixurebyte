[supervisord]
nodaemon=true

[program:django]
command=gunicorn backend.wsgi:application --bind 0.0.0.0:8000 --workers 2 --threads 1
directory=/app
autostart=true
autorestart=true
stdout_logfile=/var/log/django.log
stderr_logfile=/var/log/django.err

[program:celery]
command=/usr/local/bin/celery -A backend worker --loglevel=info
directory=/app
autostart=true
autorestart=true
stdout_logfile=/var/log/celery.log
stderr_logfile=/var/log/celery.err

[program:celerybeat]
command=/usr/local/bin/celery -A backend beat --loglevel=info --pidfile=/var/run/celerybeat.pid
directory=/app
autostart=true
autorestart=true
stdout_logfile=/var/log/celerybeat.log
stderr_logfile=/var/log/celerybeat.err